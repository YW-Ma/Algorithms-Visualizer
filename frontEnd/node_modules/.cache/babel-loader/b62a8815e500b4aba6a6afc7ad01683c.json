{"ast":null,"code":"var $ = window.jQuery;\n\nvar sleep = require('sleep');\n/*function sleep(d){                                  //暴力暂停\n    for(var t = Date.now();Date.now() - t <= d;);\n}*/\n//const cities=[\"成都\",\"广州\",\"上海\",\"大连\"];\n//const start=\"成都市\";\n//const end=\"上海\";\n\n\nfunction addCity(val, index, length) {\n  //搜索地点\n  setTimeout(function () {\n    $(\"#input\").val(val);\n  }, 3000 * index - 2800);\n  setTimeout(function () {\n    $('#searchOK').click();\n  }, 3000 * index - 2000); //添加\n\n  setTimeout(function () {\n    var addCityBtn = $(\"#addCity\");\n\n    if (addCityBtn.length > 0) {\n      //添加按钮加载完成后再点击\n      addCityBtn.click();\n    } else {\n      alert(\"尚未加载添加城市的组件\");\n    }\n\n    if (index == length) {\n      $(\"#confirmBtn\").click();\n      window.layer.msg(\"点击成都！\", {\n        time: 30000\n      });\n      /*setTimeout(()=>{                               //尝试自动触发右击事件，但是都不行!\n          /*$(\"#sidebar\").trigger(\"contextmenu\");\n          $('#node_成都市').trigger({\n              type: 'mouseup',\n              which: 3\n          });\n          alert(\"点击了\");\n      },25000);*/\n      //setTimeout(()=>{document.getElementById(\"node_成都市\").contextmenu()},25000);\n      //$(\"#node_成都市\").mousedown();\n      //window.layer.closeAll();\n\n      /*$(document).ready(()=>{\n          $(\"#node_成都市\").contextmenu();\n          alert(\"执行了右击\");\n      });*/\n    }\n  }, 3000 * index - 800);\n}\n\nexport function Repaint() {\n  /*cities.map((val,index)=>{\n      $(\"#input\").val(val);\n      //alert(val);\n      $('#searchOK').click();\n      setTimeout(()=>{\n          let addCityBtn=$(\"#addCity\");\n          if(addCityBtn.length>0){                 //添加按钮加载完成后再点击\n              addCityBtn.click();\n          }\n           else{  \n               alert(\"尚未加载添加城市的组件\");\n          }   \n      }\n      ,1000*index);  \n  });*/\n  //参考:https://blog.csdn.net/strdhgthbbh/article/details/92837282 \n  var cities = [];\n  var start;\n  var unvisiableEdgeIdx = [];\n  $.ajax({\n    //获取需要重绘的算法的信息:搜索的地点、起点、不可见的边\n    type: \"POST\",\n    url: 'http://localhost:3001/getVisitInfo',\n    //url:\"/collect\",\n    data: {\n      visitID: window.repaintVisitID\n    },\n    success: function success(json) {\n      var visitInfo = json.VisitInfo;\n      cities = visitInfo.placesName.split(\" \");\n      start = parseInt(visitInfo.seID);\n      var idxtmp = visitInfo.unvisiableEdgeID.split(\" \");\n      idxtmp.map((tmp, index));\n    },\n    error: function error() {}\n  });\n  window.layer.load(1, {\n    shade: [0.2, '#fff']\n  });\n  $(\"#panel>.drawer\").click();\n  var length = cities.length;\n  cities.map(function (val, index) {\n    addCity(val, index + 1, length);\n  });\n}","map":{"version":3,"sources":["/home/cdz/Code/FrontEnd/algorithm-visualization-for-Mr-Huang/frontEnd/src/app/SimulateClickEvent.js"],"names":["$","window","jQuery","sleep","require","addCity","val","index","length","setTimeout","click","addCityBtn","alert","layer","msg","time","Repaint","cities","start","unvisiableEdgeIdx","ajax","type","url","data","visitID","repaintVisitID","success","json","visitInfo","VisitInfo","placesName","split","parseInt","seID","idxtmp","unvisiableEdgeID","map","tmp","error","load","shade"],"mappings":"AACA,IAAIA,CAAC,GAACC,MAAM,CAACC,MAAb;;AACA,IAAIC,KAAK,GAACC,OAAO,CAAC,OAAD,CAAjB;AAEA;;;AAKA;AACA;AACA;;;AAEA,SAASC,OAAT,CAAiBC,GAAjB,EAAqBC,KAArB,EAA2BC,MAA3B,EACA;AACI;AACAC,EAAAA,UAAU,CAAC,YAAI;AACXT,IAAAA,CAAC,CAAC,QAAD,CAAD,CAAYM,GAAZ,CAAgBA,GAAhB;AACH,GAFS,EAER,OAAKC,KAAL,GAAW,IAFH,CAAV;AAIAE,EAAAA,UAAU,CAAC,YAAI;AACXT,IAAAA,CAAC,CAAC,WAAD,CAAD,CAAeU,KAAf;AACH,GAFS,EAER,OAAKH,KAAL,GAAW,IAFH,CAAV,CANJ,CAUI;;AACAE,EAAAA,UAAU,CAAC,YAAI;AACX,QAAIE,UAAU,GAACX,CAAC,CAAC,UAAD,CAAhB;;AACA,QAAGW,UAAU,CAACH,MAAX,GAAkB,CAArB,EAAuB;AAAkB;AACrCG,MAAAA,UAAU,CAACD,KAAX;AACH,KAFD,MAGI;AACCE,MAAAA,KAAK,CAAC,aAAD,CAAL;AACJ;;AAED,QAAGL,KAAK,IAAEC,MAAV,EAAiB;AACbR,MAAAA,CAAC,CAAC,aAAD,CAAD,CAAiBU,KAAjB;AACAT,MAAAA,MAAM,CAACY,KAAP,CAAaC,GAAb,CAAiB,OAAjB,EAAyB;AAACC,QAAAA,IAAI,EAAC;AAAN,OAAzB;AACA;;;;;;;;AAQA;AACA;AACA;;AACA;;;;AAKH;AAEJ,GA9BS,EA+BT,OAAKR,KAAL,GAAW,GA/BF,CAAV;AAgCH;;AAED,OAAO,SAASS,OAAT,GACP;AACI;;;;;;;;;;;;;;;AAcS;AAGT,MAAIC,MAAM,GAAC,EAAX;AACA,MAAIC,KAAJ;AACA,MAAIC,iBAAiB,GAAC,EAAtB;AACAnB,EAAAA,CAAC,CAACoB,IAAF,CAAO;AAAuB;AAC1BC,IAAAA,IAAI,EAAC,MADF;AAEHC,IAAAA,GAAG,EAAC,oCAFD;AAGH;AACAC,IAAAA,IAAI,EAAC;AAACC,MAAAA,OAAO,EAACvB,MAAM,CAACwB;AAAhB,KAJF;AAKHC,IAAAA,OAAO,EAAE,iBAASC,IAAT,EAAc;AACnB,UAAIC,SAAS,GAACD,IAAI,CAACE,SAAnB;AACAZ,MAAAA,MAAM,GAACW,SAAS,CAACE,UAAV,CAAqBC,KAArB,CAA2B,GAA3B,CAAP;AACAb,MAAAA,KAAK,GAACc,QAAQ,CAACJ,SAAS,CAACK,IAAX,CAAd;AACA,UAAIC,MAAM,GAACN,SAAS,CAACO,gBAAV,CAA2BJ,KAA3B,CAAiC,GAAjC,CAAX;AACAG,MAAAA,MAAM,CAACE,GAAP,EAAYC,GAAG,EAAC9B,KAAhB;AAGH,KAbE;AAcH+B,IAAAA,KAAK,EAAE,iBAAU,CAChB;AAfE,GAAP;AAkBArC,EAAAA,MAAM,CAACY,KAAP,CAAa0B,IAAb,CAAkB,CAAlB,EAAqB;AAACC,IAAAA,KAAK,EAAE,CAAC,GAAD,EAAK,MAAL;AAAR,GAArB;AACAxC,EAAAA,CAAC,CAAC,gBAAD,CAAD,CAAoBU,KAApB;AACA,MAAIF,MAAM,GAACS,MAAM,CAACT,MAAlB;AACAS,EAAAA,MAAM,CAACmB,GAAP,CAAW,UAAC9B,GAAD,EAAKC,KAAL,EAAa;AACpBF,IAAAA,OAAO,CAACC,GAAD,EAAKC,KAAK,GAAC,CAAX,EAAaC,MAAb,CAAP;AACH,GAFD;AAWH","sourcesContent":["\nlet $=window.jQuery;\nlet sleep=require('sleep')\n\n/*function sleep(d){                                  //暴力暂停\n    for(var t = Date.now();Date.now() - t <= d;);\n}*/\n\n\n//const cities=[\"成都\",\"广州\",\"上海\",\"大连\"];\n//const start=\"成都市\";\n//const end=\"上海\";\n\nfunction addCity(val,index,length)\n{\n    //搜索地点\n    setTimeout(()=>{\n        $(\"#input\").val(val);\n    },3000*index-2800);\n    \n    setTimeout(()=>{\n        $('#searchOK').click();\n    },3000*index-2000);\n\n    //添加\n    setTimeout(()=>{\n        let addCityBtn=$(\"#addCity\");\n        if(addCityBtn.length>0){                 //添加按钮加载完成后再点击\n            addCityBtn.click();\n        }\n        else{  \n             alert(\"尚未加载添加城市的组件\");\n        }\n\n        if(index==length){\n            $(\"#confirmBtn\").click();\n            window.layer.msg(\"点击成都！\",{time:30000});\n            /*setTimeout(()=>{                               //尝试自动触发右击事件，但是都不行!\n                /*$(\"#sidebar\").trigger(\"contextmenu\");\n                $('#node_成都市').trigger({\n                    type: 'mouseup',\n                    which: 3\n                });\n                alert(\"点击了\");\n            },25000);*/\n            //setTimeout(()=>{document.getElementById(\"node_成都市\").contextmenu()},25000);\n            //$(\"#node_成都市\").mousedown();\n            //window.layer.closeAll();\n            /*$(document).ready(()=>{\n                $(\"#node_成都市\").contextmenu();\n                alert(\"执行了右击\");\n            });*/\n\n        }\n           \n    }\n    ,3000*index-800);  \n}\n\nexport function Repaint()\n{\n    /*cities.map((val,index)=>{\n        $(\"#input\").val(val);\n        //alert(val);\n        $('#searchOK').click();\n        setTimeout(()=>{\n            let addCityBtn=$(\"#addCity\");\n            if(addCityBtn.length>0){                 //添加按钮加载完成后再点击\n                addCityBtn.click();\n            }\n             else{  \n                 alert(\"尚未加载添加城市的组件\");\n            }   \n        }\n        ,1000*index);  \n    });*/    //参考:https://blog.csdn.net/strdhgthbbh/article/details/92837282 \n\n\n    let cities=[];\n    let start;\n    let unvisiableEdgeIdx=[];\n    $.ajax({                      //获取需要重绘的算法的信息:搜索的地点、起点、不可见的边\n        type:\"POST\",\n        url:'http://localhost:3001/getVisitInfo',\n        //url:\"/collect\",\n        data:{visitID:window.repaintVisitID},\n        success: function(json){\n            let visitInfo=json.VisitInfo;\n            cities=visitInfo.placesName.split(\" \");\n            start=parseInt(visitInfo.seID);\n            let idxtmp=visitInfo.unvisiableEdgeID.split(\" \");\n            idxtmp.map((tmp,index))\n\n           \n        },\n        error: function(){\n        }\n    });\n    \n    window.layer.load(1, {shade: [0.2,'#fff']});\n    $(\"#panel>.drawer\").click();\n    let length=cities.length;\n    cities.map((val,index)=>{\n        addCity(val,index+1,length);\n    });\n\n\n\n\n\n\n    \n   \n}\n\n\n"]},"metadata":{},"sourceType":"module"}