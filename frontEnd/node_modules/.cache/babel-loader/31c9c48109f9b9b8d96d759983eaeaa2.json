{"ast":null,"code":"var $ = window.jQuery;\n\nvar sleep = require('sleep');\n/*function sleep(d){                                  //暴力暂停\n    for(var t = Date.now();Date.now() - t <= d;);\n}*/\n//const cities=[\"成都\",\"广州\",\"上海\",\"大连\"];\n//const start=\"成都市\";\n//const end=\"上海\";\n\n\nvar cities = [];\nvar start;\nvar unvisiableEdgeIdx = [];\n\nfunction addCity(val, index, length) {\n  //搜索地点\n  setTimeout(function () {\n    $(\"#input\").val(val);\n  }, 3000 * index - 2800);\n  setTimeout(function () {\n    $('#searchOK').click();\n  }, 3000 * index - 2000); //添加\n\n  setTimeout(function () {\n    var addCityBtn = $(\"#addCity\");\n\n    if (addCityBtn.length > 0) {\n      //添加按钮加载完成后再点击\n      addCityBtn.click();\n    } else {\n      alert(\"尚未加载添加城市的组件\");\n    }\n\n    if (index == length) {\n      $(\"#confirmBtn\").click();\n      /*setTimeout(()=>{                               //尝试自动触发右击事件选择起点，但是都不行!　=>　只好采用手动点击\n          /*$(\"#sidebar\").trigger(\"contextmenu\");\n          $('#node_成都市').trigger({\n              type: 'mouseup',\n              which: 3\n          });\n          alert(\"点击了\");\n      },25000);*/\n      //setTimeout(()=>{document.getElementById(\"node_成都市\").contextmenu()},25000);\n      //$(\"#node_成都市\").mousedown();\n      //window.layer.closeAll();\n\n      /*$(document).ready(()=>{\n          $(\"#node_成都市\").contextmenu();\n          alert(\"执行了右击\");\n      });*/\n\n      window.layer.msg(\"加载完成后，右键选择起点：\" + start, {\n        time: 30000\n      });\n      setTimeout(function () {\n        window.layer.load(1, {\n          shade: [0.2, '#fff']\n        });\n        $(\"#edge\").click();\n        setTimeout();\n      }, 25000);\n    }\n  }, 3000 * index - 800);\n}\n\nexport function Repaint() {\n  /*cities.map((val,index)=>{\n      $(\"#input\").val(val);\n      //alert(val);\n      $('#searchOK').click();\n      setTimeout(()=>{\n          let addCityBtn=$(\"#addCity\");\n          if(addCityBtn.length>0){                 //添加按钮加载完成后再点击\n              addCityBtn.click();\n          }\n           else{  \n               alert(\"尚未加载添加城市的组件\");\n          }   \n      }\n      ,1000*index);  \n  });*/\n  //参考:https://blog.csdn.net/strdhgthbbh/article/details/92837282 \n  $.ajax({\n    //获取需要重绘的算法的信息:搜索的地点、起点、不可见的边\n    type: \"POST\",\n    url: 'http://localhost:3001/getVisitInfo',\n    //url:\"/collect\",\n    data: {\n      visitID: window.repaintVisitID\n    },\n    success: function success(json) {\n      var visitInfo = json.VisitInfo;\n      alert(visitInfo.placesName);\n      cities = visitInfo.placesName.split(\" \");\n      var startIdx = parseInt(visitInfo.seID);\n      start = cities[startIdx];\n      var idxtmp = visitInfo.unvisiableEdgeID.split(\" \"); //得到不可见边的编号\n\n      idxtmp.map(function (tmp, index) {\n        unvisiableEdgeIdx.push(parseInt(tmp));\n      }); //返回结果后，进入自动模拟\n\n      window.layer.load(1, {\n        shade: [0.2, '#fff']\n      });\n      $(\"#panel>.drawer\").click();\n      var length = cities.length;\n      cities.map(function (val, index) {\n        addCity(val, index + 1, length);\n      });\n    },\n    error: function error() {\n      alert(\"重绘时获取信息出错!\");\n    }\n  });\n}","map":{"version":3,"sources":["/home/cdz/Code/FrontEnd/algorithm-visualization-for-Mr-Huang/frontEnd/src/app/SimulateClickEvent.js"],"names":["$","window","jQuery","sleep","require","cities","start","unvisiableEdgeIdx","addCity","val","index","length","setTimeout","click","addCityBtn","alert","layer","msg","time","load","shade","Repaint","ajax","type","url","data","visitID","repaintVisitID","success","json","visitInfo","VisitInfo","placesName","split","startIdx","parseInt","seID","idxtmp","unvisiableEdgeID","map","tmp","push","error"],"mappings":"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","sourcesContent":["\nlet $=window.jQuery;\nlet sleep=require('sleep')\n\n/*function sleep(d){                                  //暴力暂停\n    for(var t = Date.now();Date.now() - t <= d;);\n}*/\n\n\n//const cities=[\"成都\",\"广州\",\"上海\",\"大连\"];\n//const start=\"成都市\";\n//const end=\"上海\";\nlet cities=[];\nlet start;\nlet unvisiableEdgeIdx=[];\n\n\nfunction addCity(val,index,length)\n{\n    //搜索地点\n    setTimeout(()=>{\n        $(\"#input\").val(val);\n    },3000*index-2800);\n    \n    setTimeout(()=>{\n        $('#searchOK').click();\n    },3000*index-2000);\n\n    //添加\n    setTimeout(()=>{\n        let addCityBtn=$(\"#addCity\");\n        if(addCityBtn.length>0){                 //添加按钮加载完成后再点击\n            addCityBtn.click();\n        }\n        else{  \n             alert(\"尚未加载添加城市的组件\");\n        }\n\n        if(index==length){\n            $(\"#confirmBtn\").click();\n            /*setTimeout(()=>{                               //尝试自动触发右击事件选择起点，但是都不行!　=>　只好采用手动点击\n                /*$(\"#sidebar\").trigger(\"contextmenu\");\n                $('#node_成都市').trigger({\n                    type: 'mouseup',\n                    which: 3\n                });\n                alert(\"点击了\");\n            },25000);*/\n            //setTimeout(()=>{document.getElementById(\"node_成都市\").contextmenu()},25000);\n            //$(\"#node_成都市\").mousedown();\n            //window.layer.closeAll();\n            /*$(document).ready(()=>{\n                $(\"#node_成都市\").contextmenu();\n                alert(\"执行了右击\");\n            });*/\n            window.layer.msg(\"加载完成后，右键选择起点：\"+start,{time:30000});\n            setTimeout(()=>{\n                window.layer.load(1, {shade: [0.2,'#fff']});\n                $(\"#edge\").click();\n                setTimeout()\n\n            },25000);\n        }\n           \n    }\n    ,3000*index-800);  \n}\n\nexport function Repaint()\n{\n    /*cities.map((val,index)=>{\n        $(\"#input\").val(val);\n        //alert(val);\n        $('#searchOK').click();\n        setTimeout(()=>{\n            let addCityBtn=$(\"#addCity\");\n            if(addCityBtn.length>0){                 //添加按钮加载完成后再点击\n                addCityBtn.click();\n            }\n             else{  \n                 alert(\"尚未加载添加城市的组件\");\n            }   \n        }\n        ,1000*index);  \n    });*/    //参考:https://blog.csdn.net/strdhgthbbh/article/details/92837282 \n\n\n   \n    $.ajax({                      //获取需要重绘的算法的信息:搜索的地点、起点、不可见的边\n        type:\"POST\",\n        url:'http://localhost:3001/getVisitInfo',\n        //url:\"/collect\",\n        data:{visitID:window.repaintVisitID},\n        success: function(json){\n            let visitInfo=json.VisitInfo;\n            alert(visitInfo.placesName);\n            cities=visitInfo.placesName.split(\" \");\n            let startIdx=parseInt(visitInfo.seID);\n            start=cities[startIdx];\n            let idxtmp=visitInfo.unvisiableEdgeID.split(\" \");         //得到不可见边的编号\n            idxtmp.map((tmp,index)=>{\n                unvisiableEdgeIdx.push(parseInt(tmp));\n            });\n\n            //返回结果后，进入自动模拟\n            window.layer.load(1, {shade: [0.2,'#fff']});\n            $(\"#panel>.drawer\").click();\n            let length=cities.length;\n            cities.map((val,index)=>{\n                addCity(val,index+1,length);\n            });\n        },\n        error: function(){\n            alert(\"重绘时获取信息出错!\");\n        }\n    });\n    \n}\n\n\n"]},"metadata":{},"sourceType":"module"}